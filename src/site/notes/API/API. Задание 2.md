---
{"dg-publish":true,"permalink":"/api/api-zadanie-2/"}
---


## Задание 2. Реализация API посредством strapi

---

**ФИО:** 2022-ФГиИБ-ИБ-1б Максимельянов Илья Максимович

---

ТЗ доступно по ссылке: https://in-homework.vercel.app/

## Ограничение платформы Strapi

>Ограниченные возможности аутентификации: Strapi предлагает ограниченное количество встроенных методов аутентификации, таких как аутентификация через электронную почту или социальные сети. Это может быть недостаточно для некоторых проектов, требующих более сложных методов аутентификации.

## Реализация сущностей
### Сущность Product (Товар)

Создаём сущность "Товар" с структурой, включающей поля: идентификатор продукта, идентификатор заказа, название, описание, изображение, цена, категория товара, количество.

![createCollection.jpg](/img/user/media/createCollection.jpg)
<center>Создаём сущность Product</center>

По ТЗ заполняем его атрибутами.

![productCreate.jpg](/img/user/media/productCreate.jpg)
<center>Заполнение сущности Product атрибутами</center>

Атрибут `img` ограничиваем тем, что в него могут загрузить медиа-файлы только форматов изображения (.png, .jpg и другие).

![imgValid.jpg](/img/user/media/imgValid.jpg)
<center>Ограничение типов медиа-файлов для атрибута img</center>

## Сложности реализации

1. Атрибут id_productOrder скорее всего не нужен, так как товару сущности товара не нужно знать в каких заказах он находится

## REST-методы

### Сущность Product

**POST /product/**

> Создаёт новый продукт.

При использовании метода выдаётся информация о созданном продукте, включая все его атрибуты, которые были указаны в запросе. 
В случае ошибки возвращается соответствующее сообщение.

**DELETE /product/{id}**

> Удаляет продукт с указанным идентификатором.

Происходит проверка на уровень прав, если прав хватает:
Вывод сообщения о удалении продукта.

Иначе:
Вывод сообщения о недостаточном уровне прав.

**PUT /product/{attribute}**

> Обновляет поля атрибутов товара, по указанному идентификатору, которые необходимо изменить.

Выводит информацию о продукте.

**GET /product/{id}**

> Возвращает информацию о продукте по указанному идентификатору.

Выводит информацию о продукте.